<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;background-color:initial;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{view-transition-name:__bespoke_marp_transition_osc__;background:#000000a6;border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:#0000}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:#0000;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:#000000a6;border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;scrollbar-color:#eeeeee80 #0000;scrollbar-width:thin;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:#0000}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:#eeeeee80;border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>div#\:\$p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#\:\$p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:0.67em 0}div#\:\$p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p>svg>foreignObject>section{page-break-before:always;break-before:page}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#\:\$p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#\:\$p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp nord theme.
 *
 * @theme nord
 * @author Nitzan Zada
 *
 * @auto-scaling true
 * @size 4:3 960px 720px
 */
/* 
darks
dark -> light
#2E3440
#3B4252
#434C5E
#4C566A

lights
dark -> light
#D8DEE9
#E5E9F0
#ECEFF4
*/div#\:\$p>svg>foreignObject>section .markdown-body .octicon,div#\:\$p>svg>foreignObject>section .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}div#\:\$p>svg>foreignObject>section .anchor,div#\:\$p>svg>foreignObject>section .markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}div#\:\$p>svg>foreignObject>section .anchor:focus,div#\:\$p>svg>foreignObject>section .markdown-body .anchor:focus{outline:none}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1) .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2) .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3) .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4) .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5) .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1):hover .anchor,div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2):hover .anchor,div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3):hover .anchor,div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4):hover .anchor,div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5):hover .anchor,div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor{text-decoration:none}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor .octicon-link{visibility:visible}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor .octicon-link:before{width:16px;height:16px;content:' ';display:inline-block;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'%3E%3C/path%3E%3C/svg%3E")}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section .markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.5;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section section.markdown-body{--marpit-root-font-size:16px}div#\:\$p>svg>foreignObject>section .markdown-body details,div#\:\$p>svg>foreignObject>section details{display:block}div#\:\$p>svg>foreignObject>section .markdown-body summary,div#\:\$p>svg>foreignObject>section summary{display:list-item}div#\:\$p>svg>foreignObject>section .markdown-body a,div#\:\$p>svg>foreignObject>section a{background-color:initial}div#\:\$p>svg>foreignObject>section .markdown-body a:active,div#\:\$p>svg>foreignObject>section .markdown-body a:hover,div#\:\$p>svg>foreignObject>section a:active,div#\:\$p>svg>foreignObject>section a:hover{outline-width:0}div#\:\$p>svg>foreignObject>section .markdown-body strong,div#\:\$p>svg>foreignObject>section strong{font-weight:inherit;font-weight:bolder}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:.67em 0}div#\:\$p>svg>foreignObject>section .markdown-body img,div#\:\$p>svg>foreignObject>section img{border-style:none}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section .markdown-body code,div#\:\$p>svg>foreignObject>section .markdown-body kbd,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section kbd{font-family:monospace,monospace;font-size:1em}div#\:\$p>svg>foreignObject>section .markdown-body hr,div#\:\$p>svg>foreignObject>section hr{box-sizing:initial;height:0;overflow:visible}div#\:\$p>svg>foreignObject>section .markdown-body input,div#\:\$p>svg>foreignObject>section input{font:inherit;margin:0}div#\:\$p>svg>foreignObject>section .markdown-body input,div#\:\$p>svg>foreignObject>section input{overflow:visible}div#\:\$p>svg>foreignObject>section .markdown-body [type=checkbox],div#\:\$p>svg>foreignObject>section [type=checkbox]{box-sizing:border-box;padding:0}div#\:\$p>svg>foreignObject>section *,div#\:\$p>svg>foreignObject>section .markdown-body *{box-sizing:border-box}div#\:\$p>svg>foreignObject>section .markdown-body input,div#\:\$p>svg>foreignObject>section input{font-family:inherit;font-size:inherit;line-height:inherit}div#\:\$p>svg>foreignObject>section .markdown-body a,div#\:\$p>svg>foreignObject>section a{color:#0366d6;text-decoration:none}div#\:\$p>svg>foreignObject>section .markdown-body a:hover,div#\:\$p>svg>foreignObject>section a:hover{text-decoration:underline}div#\:\$p>svg>foreignObject>section .markdown-body strong,div#\:\$p>svg>foreignObject>section strong{font-weight:600}div#\:\$p>svg>foreignObject>section .markdown-body hr,div#\:\$p>svg>foreignObject>section hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border:0;border-bottom:1px solid #dfe2e5}div#\:\$p>svg>foreignObject>section .markdown-body hr:after,div#\:\$p>svg>foreignObject>section .markdown-body hr:before,div#\:\$p>svg>foreignObject>section hr:after,div#\:\$p>svg>foreignObject>section hr:before{display:table;content:""}div#\:\$p>svg>foreignObject>section .markdown-body hr:after,div#\:\$p>svg>foreignObject>section hr:after{clear:both}div#\:\$p>svg>foreignObject>section .markdown-body table,div#\:\$p>svg>foreignObject>section table{border-spacing:0;border-collapse:collapse}div#\:\$p>svg>foreignObject>section .markdown-body td,div#\:\$p>svg>foreignObject>section .markdown-body th,div#\:\$p>svg>foreignObject>section td,div#\:\$p>svg>foreignObject>section th{padding:0}div#\:\$p>svg>foreignObject>section .markdown-body details summary,div#\:\$p>svg>foreignObject>section details summary{cursor:pointer}div#\:\$p>svg>foreignObject>section .markdown-body kbd,div#\:\$p>svg>foreignObject>section kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){margin-top:0;margin-bottom:0}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:32px}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-weight:600}div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-size:24px}div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:20px}div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-weight:600}div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:16px}div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:14px}div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-weight:600}div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:12px}div#\:\$p>svg>foreignObject>section .markdown-body p,div#\:\$p>svg>foreignObject>section p{margin-top:0;margin-bottom:10px}div#\:\$p>svg>foreignObject>section .markdown-body blockquote,div#\:\$p>svg>foreignObject>section blockquote{margin:0}div#\:\$p>svg>foreignObject>section .markdown-body ol,div#\:\$p>svg>foreignObject>section .markdown-body ul,div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section ul{padding-left:0;margin-top:0;margin-bottom:0}div#\:\$p>svg>foreignObject>section .markdown-body ol ol,div#\:\$p>svg>foreignObject>section .markdown-body ul ol,div#\:\$p>svg>foreignObject>section ol ol,div#\:\$p>svg>foreignObject>section ul ol{list-style-type:lower-roman}div#\:\$p>svg>foreignObject>section .markdown-body ol ol ol,div#\:\$p>svg>foreignObject>section .markdown-body ol ul ol,div#\:\$p>svg>foreignObject>section .markdown-body ul ol ol,div#\:\$p>svg>foreignObject>section .markdown-body ul ul ol,div#\:\$p>svg>foreignObject>section ol ol ol,div#\:\$p>svg>foreignObject>section ol ul ol,div#\:\$p>svg>foreignObject>section ul ol ol,div#\:\$p>svg>foreignObject>section ul ul ol{list-style-type:lower-alpha}div#\:\$p>svg>foreignObject>section .markdown-body dd,div#\:\$p>svg>foreignObject>section dd{margin-left:0}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section .markdown-body code,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){margin-top:0;margin-bottom:0}div#\:\$p>svg>foreignObject>section .markdown-body input::-webkit-inner-spin-button,div#\:\$p>svg>foreignObject>section .markdown-body input::-webkit-outer-spin-button,div#\:\$p>svg>foreignObject>section input::-webkit-inner-spin-button,div#\:\$p>svg>foreignObject>section input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}div#\:\$p>svg>foreignObject>section .markdown-body :checked+.radio-label,div#\:\$p>svg>foreignObject>section :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}div#\:\$p>svg>foreignObject>section .border,div#\:\$p>svg>foreignObject>section .markdown-body .border{border:1px solid #e1e4e8!important}div#\:\$p>svg>foreignObject>section .border-0,div#\:\$p>svg>foreignObject>section .markdown-body .border-0{border:0!important}div#\:\$p>svg>foreignObject>section .border-bottom,div#\:\$p>svg>foreignObject>section .markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}div#\:\$p>svg>foreignObject>section .markdown-body .rounded-1,div#\:\$p>svg>foreignObject>section .rounded-1{border-radius:3px!important}div#\:\$p>svg>foreignObject>section .bg-white,div#\:\$p>svg>foreignObject>section .markdown-body .bg-white{background-color:#fff!important}div#\:\$p>svg>foreignObject>section .bg-gray-light,div#\:\$p>svg>foreignObject>section .markdown-body .bg-gray-light{background-color:#fafbfc!important}div#\:\$p>svg>foreignObject>section .markdown-body .text-gray-light,div#\:\$p>svg>foreignObject>section .text-gray-light{color:#6a737d!important}div#\:\$p>svg>foreignObject>section .markdown-body .mb-0,div#\:\$p>svg>foreignObject>section .mb-0{margin-bottom:0!important}div#\:\$p>svg>foreignObject>section .markdown-body .my-2,div#\:\$p>svg>foreignObject>section .my-2{margin-top:8px!important;margin-bottom:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-0,div#\:\$p>svg>foreignObject>section .pl-0{padding-left:0!important}div#\:\$p>svg>foreignObject>section .markdown-body .py-0,div#\:\$p>svg>foreignObject>section .py-0{padding-top:0!important;padding-bottom:0!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-1,div#\:\$p>svg>foreignObject>section .pl-1{padding-left:4px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-2,div#\:\$p>svg>foreignObject>section .pl-2{padding-left:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .py-2,div#\:\$p>svg>foreignObject>section .py-2{padding-top:8px!important;padding-bottom:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-3,div#\:\$p>svg>foreignObject>section .markdown-body .px-3,div#\:\$p>svg>foreignObject>section .pl-3,div#\:\$p>svg>foreignObject>section .px-3{padding-left:16px!important}div#\:\$p>svg>foreignObject>section .markdown-body .px-3,div#\:\$p>svg>foreignObject>section .px-3{padding-right:16px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-4,div#\:\$p>svg>foreignObject>section .pl-4{padding-left:24px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-5,div#\:\$p>svg>foreignObject>section .pl-5{padding-left:32px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-6,div#\:\$p>svg>foreignObject>section .pl-6{padding-left:40px!important}div#\:\$p>svg>foreignObject>section .f6,div#\:\$p>svg>foreignObject>section .markdown-body .f6{font-size:12px!important}div#\:\$p>svg>foreignObject>section .markdown-body div#\:\$p>svg>foreignObject>section section.f6,div#\:\$p>svg>foreignObject>section div#\:\$p>svg>foreignObject>section section.f6{--marpit-root-font-size:12px!important}div#\:\$p>svg>foreignObject>section .lh-condensed,div#\:\$p>svg>foreignObject>section .markdown-body .lh-condensed{line-height:1.25!important}div#\:\$p>svg>foreignObject>section .markdown-body .text-bold,div#\:\$p>svg>foreignObject>section .text-bold{font-weight:600!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-c,div#\:\$p>svg>foreignObject>section .pl-c{color:#6a737d}div#\:\$p>svg>foreignObject>section .markdown-body .pl-c1,div#\:\$p>svg>foreignObject>section .markdown-body .pl-s .pl-v,div#\:\$p>svg>foreignObject>section .pl-c1,div#\:\$p>svg>foreignObject>section .pl-s .pl-v{color:#005cc5}div#\:\$p>svg>foreignObject>section .markdown-body .pl-e,div#\:\$p>svg>foreignObject>section .markdown-body .pl-en,div#\:\$p>svg>foreignObject>section .pl-e,div#\:\$p>svg>foreignObject>section .pl-en{color:#6f42c1}div#\:\$p>svg>foreignObject>section .markdown-body .pl-s .pl-s1,div#\:\$p>svg>foreignObject>section .markdown-body .pl-smi,div#\:\$p>svg>foreignObject>section .pl-s .pl-s1,div#\:\$p>svg>foreignObject>section .pl-smi{color:#24292e}div#\:\$p>svg>foreignObject>section .markdown-body .pl-ent,div#\:\$p>svg>foreignObject>section .pl-ent{color:#22863a}div#\:\$p>svg>foreignObject>section .markdown-body .pl-k,div#\:\$p>svg>foreignObject>section .pl-k{color:#d73a49}div#\:\$p>svg>foreignObject>section .markdown-body .pl-pds,div#\:\$p>svg>foreignObject>section .markdown-body .pl-s,div#\:\$p>svg>foreignObject>section .markdown-body .pl-s .pl-pse .pl-s1,div#\:\$p>svg>foreignObject>section .markdown-body .pl-sr,div#\:\$p>svg>foreignObject>section .markdown-body .pl-sr .pl-cce,div#\:\$p>svg>foreignObject>section .markdown-body .pl-sr .pl-sra,div#\:\$p>svg>foreignObject>section .markdown-body .pl-sr .pl-sre,div#\:\$p>svg>foreignObject>section .pl-pds,div#\:\$p>svg>foreignObject>section .pl-s,div#\:\$p>svg>foreignObject>section .pl-s .pl-pse .pl-s1,div#\:\$p>svg>foreignObject>section .pl-sr,div#\:\$p>svg>foreignObject>section .pl-sr .pl-cce,div#\:\$p>svg>foreignObject>section .pl-sr .pl-sra,div#\:\$p>svg>foreignObject>section .pl-sr .pl-sre{color:#032f62}div#\:\$p>svg>foreignObject>section .markdown-body .pl-smw,div#\:\$p>svg>foreignObject>section .markdown-body .pl-v,div#\:\$p>svg>foreignObject>section .pl-smw,div#\:\$p>svg>foreignObject>section .pl-v{color:#e36209}div#\:\$p>svg>foreignObject>section .markdown-body .pl-bu,div#\:\$p>svg>foreignObject>section .pl-bu{color:#b31d28}div#\:\$p>svg>foreignObject>section .markdown-body .pl-ii,div#\:\$p>svg>foreignObject>section .pl-ii{color:#fafbfc;background-color:#b31d28}div#\:\$p>svg>foreignObject>section .markdown-body .pl-c2,div#\:\$p>svg>foreignObject>section .pl-c2{color:#fafbfc;background-color:#d73a49}div#\:\$p>svg>foreignObject>section .markdown-body .pl-c2:before,div#\:\$p>svg>foreignObject>section .pl-c2:before{content:"^M"}div#\:\$p>svg>foreignObject>section .markdown-body .pl-sr .pl-cce,div#\:\$p>svg>foreignObject>section .pl-sr .pl-cce{font-weight:700;color:#22863a}div#\:\$p>svg>foreignObject>section .markdown-body .pl-ml,div#\:\$p>svg>foreignObject>section .pl-ml{color:#735c0f}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mh,div#\:\$p>svg>foreignObject>section .markdown-body .pl-mh .pl-en,div#\:\$p>svg>foreignObject>section .markdown-body .pl-ms,div#\:\$p>svg>foreignObject>section .pl-mh,div#\:\$p>svg>foreignObject>section .pl-mh .pl-en,div#\:\$p>svg>foreignObject>section .pl-ms{font-weight:700;color:#005cc5}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mi,div#\:\$p>svg>foreignObject>section .pl-mi{font-style:italic;color:#24292e}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mb,div#\:\$p>svg>foreignObject>section .pl-mb{font-weight:700;color:#24292e}div#\:\$p>svg>foreignObject>section .markdown-body .pl-md,div#\:\$p>svg>foreignObject>section .pl-md{color:#b31d28;background-color:#ffeef0}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mi1,div#\:\$p>svg>foreignObject>section .pl-mi1{color:#22863a;background-color:#f0fff4}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mc,div#\:\$p>svg>foreignObject>section .pl-mc{color:#e36209;background-color:#ffebda}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mi2,div#\:\$p>svg>foreignObject>section .pl-mi2{color:#f6f8fa;background-color:#005cc5}div#\:\$p>svg>foreignObject>section .markdown-body .pl-mdr,div#\:\$p>svg>foreignObject>section .pl-mdr{font-weight:700;color:#6f42c1}div#\:\$p>svg>foreignObject>section .markdown-body .pl-ba,div#\:\$p>svg>foreignObject>section .pl-ba{color:#586069}div#\:\$p>svg>foreignObject>section .markdown-body .pl-sg,div#\:\$p>svg>foreignObject>section .pl-sg{color:#959da5}div#\:\$p>svg>foreignObject>section .markdown-body .pl-corl,div#\:\$p>svg>foreignObject>section .pl-corl{text-decoration:underline;color:#032f62}div#\:\$p>svg>foreignObject>section .markdown-body .mb-0,div#\:\$p>svg>foreignObject>section .mb-0{margin-bottom:0!important}div#\:\$p>svg>foreignObject>section .markdown-body .my-2,div#\:\$p>svg>foreignObject>section .my-2{margin-bottom:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .my-2,div#\:\$p>svg>foreignObject>section .my-2{margin-top:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-0,div#\:\$p>svg>foreignObject>section .pl-0{padding-left:0!important}div#\:\$p>svg>foreignObject>section .markdown-body .py-0,div#\:\$p>svg>foreignObject>section .py-0{padding-top:0!important;padding-bottom:0!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-1,div#\:\$p>svg>foreignObject>section .pl-1{padding-left:4px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-2,div#\:\$p>svg>foreignObject>section .pl-2{padding-left:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .py-2,div#\:\$p>svg>foreignObject>section .py-2{padding-top:8px!important;padding-bottom:8px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-3,div#\:\$p>svg>foreignObject>section .pl-3{padding-left:16px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-4,div#\:\$p>svg>foreignObject>section .pl-4{padding-left:24px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-5,div#\:\$p>svg>foreignObject>section .pl-5{padding-left:32px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-6,div#\:\$p>svg>foreignObject>section .pl-6{padding-left:40px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-7,div#\:\$p>svg>foreignObject>section .pl-7{padding-left:48px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-8,div#\:\$p>svg>foreignObject>section .pl-8{padding-left:64px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-9,div#\:\$p>svg>foreignObject>section .pl-9{padding-left:80px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-10,div#\:\$p>svg>foreignObject>section .pl-10{padding-left:96px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-11,div#\:\$p>svg>foreignObject>section .pl-11{padding-left:112px!important}div#\:\$p>svg>foreignObject>section .markdown-body .pl-12,div#\:\$p>svg>foreignObject>section .pl-12{padding-left:128px!important}div#\:\$p>svg>foreignObject>section .markdown-body hr,div#\:\$p>svg>foreignObject>section hr{border-bottom-color:#eee}div#\:\$p>svg>foreignObject>section .markdown-body kbd,div#\:\$p>svg>foreignObject>section kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}div#\:\$p>svg>foreignObject>section .markdown-body:after,div#\:\$p>svg>foreignObject>section .markdown-body:before,div#\:\$p>svg>foreignObject>section:after,div#\:\$p>svg>foreignObject>section:before{display:table
  /* content: ""; */}div#\:\$p>svg>foreignObject>section .markdown-body:after,div#\:\$p>svg>foreignObject>section:after{clear:both}div#\:\$p>svg>foreignObject>section .markdown-body>:first-child,div#\:\$p>svg>foreignObject>section>:first-child{margin-top:0!important}div#\:\$p>svg>foreignObject>section .markdown-body>:last-child,div#\:\$p>svg>foreignObject>section>:last-child{margin-bottom:0!important}div#\:\$p>svg>foreignObject>section .markdown-body a:not([href]),div#\:\$p>svg>foreignObject>section a:not([href]){color:inherit;text-decoration:none}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section .markdown-body blockquote,div#\:\$p>svg>foreignObject>section .markdown-body details,div#\:\$p>svg>foreignObject>section .markdown-body dl,div#\:\$p>svg>foreignObject>section .markdown-body ol,div#\:\$p>svg>foreignObject>section .markdown-body p,div#\:\$p>svg>foreignObject>section .markdown-body table,div#\:\$p>svg>foreignObject>section .markdown-body ul,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section blockquote,div#\:\$p>svg>foreignObject>section details,div#\:\$p>svg>foreignObject>section dl,div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section p,div#\:\$p>svg>foreignObject>section table,div#\:\$p>svg>foreignObject>section ul{margin-top:0;margin-bottom:16px}div#\:\$p>svg>foreignObject>section .markdown-body hr,div#\:\$p>svg>foreignObject>section hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}div#\:\$p>svg>foreignObject>section .markdown-body blockquote,div#\:\$p>svg>foreignObject>section blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}div#\:\$p>svg>foreignObject>section .markdown-body blockquote>:first-child,div#\:\$p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#\:\$p>svg>foreignObject>section .markdown-body blockquote>:last-child,div#\:\$p>svg>foreignObject>section blockquote>:last-child{margin-bottom:0}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em}div#\:\$p>svg>foreignObject>section .markdown-body :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){padding-bottom:.3em;border-bottom:1px solid #eaecef}div#\:\$p>svg>foreignObject>section .markdown-body :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-size:1.5em}div#\:\$p>svg>foreignObject>section .markdown-body :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.25em}div#\:\$p>svg>foreignObject>section .markdown-body :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1em}div#\:\$p>svg>foreignObject>section .markdown-body :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:.875em}div#\:\$p>svg>foreignObject>section .markdown-body :is(h6,marp-h6),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:.85em;color:#6a737d}div#\:\$p>svg>foreignObject>section .markdown-body ol,div#\:\$p>svg>foreignObject>section .markdown-body ul,div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section ul{padding-left:2em}div#\:\$p>svg>foreignObject>section .markdown-body ol ol,div#\:\$p>svg>foreignObject>section .markdown-body ol ul,div#\:\$p>svg>foreignObject>section .markdown-body ul ol,div#\:\$p>svg>foreignObject>section .markdown-body ul ul,div#\:\$p>svg>foreignObject>section ol ol,div#\:\$p>svg>foreignObject>section ol ul,div#\:\$p>svg>foreignObject>section ul ol,div#\:\$p>svg>foreignObject>section ul ul{margin-top:0;margin-bottom:0}div#\:\$p>svg>foreignObject>section .markdown-body li,div#\:\$p>svg>foreignObject>section li{word-wrap:break-all}div#\:\$p>svg>foreignObject>section .markdown-body li>p,div#\:\$p>svg>foreignObject>section li>p{margin-top:16px}div#\:\$p>svg>foreignObject>section .markdown-body li+li,div#\:\$p>svg>foreignObject>section li+li{margin-top:.25em}div#\:\$p>svg>foreignObject>section .markdown-body dl,div#\:\$p>svg>foreignObject>section dl{padding:0}div#\:\$p>svg>foreignObject>section .markdown-body dl dt,div#\:\$p>svg>foreignObject>section dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}div#\:\$p>svg>foreignObject>section .markdown-body dl dd,div#\:\$p>svg>foreignObject>section dl dd{padding:0 16px;margin-bottom:16px}div#\:\$p>svg>foreignObject>section .markdown-body table,div#\:\$p>svg>foreignObject>section table{display:block;width:100%;overflow:auto}div#\:\$p>svg>foreignObject>section .markdown-body table th,div#\:\$p>svg>foreignObject>section table th{font-weight:600}div#\:\$p>svg>foreignObject>section .markdown-body table td,div#\:\$p>svg>foreignObject>section .markdown-body table th,div#\:\$p>svg>foreignObject>section table td,div#\:\$p>svg>foreignObject>section table th{padding:6px 13px;border:1px solid #dfe2e5}div#\:\$p>svg>foreignObject>section .markdown-body table tr,div#\:\$p>svg>foreignObject>section table tr{background-color:#fff;border-top:1px solid #c6cbd1}div#\:\$p>svg>foreignObject>section .markdown-body table tr:nth-child(2n),div#\:\$p>svg>foreignObject>section table tr:nth-child(2n){background-color:#f6f8fa}div#\:\$p>svg>foreignObject>section .markdown-body img,div#\:\$p>svg>foreignObject>section img{max-width:100%;box-sizing:initial;background-color:#fff}div#\:\$p>svg>foreignObject>section .markdown-body img[align=right],div#\:\$p>svg>foreignObject>section img[align=right]{padding-left:20px}div#\:\$p>svg>foreignObject>section .markdown-body img[align=left],div#\:\$p>svg>foreignObject>section img[align=left]{padding-right:20px}div#\:\$p>svg>foreignObject>section .markdown-body code,div#\:\$p>svg>foreignObject>section code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,0.05);border-radius:3px}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){word-wrap:normal}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre)>code,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}div#\:\$p>svg>foreignObject>section .highlight,div#\:\$p>svg>foreignObject>section .markdown-body .highlight{margin-bottom:16px}div#\:\$p>svg>foreignObject>section .highlight :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section .markdown-body .highlight :is(pre,marp-pre){margin-bottom:0;word-break:normal}div#\:\$p>svg>foreignObject>section .highlight :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section .markdown-body .highlight :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}div#\:\$p>svg>foreignObject>section .markdown-body :is(pre,marp-pre) code,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}div#\:\$p>svg>foreignObject>section .commit-tease-sha,div#\:\$p>svg>foreignObject>section .markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}div#\:\$p>svg>foreignObject>section .markdown-body div#\:\$p>svg>foreignObject>section section.commit-tease-sha,div#\:\$p>svg>foreignObject>section div#\:\$p>svg>foreignObject>section section.commit-tease-sha{--marpit-root-font-size:90%}div#\:\$p>svg>foreignObject>section .full-commit .btn-outline:not(:disabled):hover,div#\:\$p>svg>foreignObject>section .markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}div#\:\$p>svg>foreignObject>section .blob-wrapper,div#\:\$p>svg>foreignObject>section .markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}div#\:\$p>svg>foreignObject>section .blob-wrapper-embedded,div#\:\$p>svg>foreignObject>section .markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}div#\:\$p>svg>foreignObject>section .blob-num,div#\:\$p>svg>foreignObject>section .markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,0.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}div#\:\$p>svg>foreignObject>section .markdown-body div#\:\$p>svg>foreignObject>section section.blob-num,div#\:\$p>svg>foreignObject>section div#\:\$p>svg>foreignObject>section section.blob-num{--marpit-root-font-size:12px}div#\:\$p>svg>foreignObject>section .blob-num:hover,div#\:\$p>svg>foreignObject>section .markdown-body .blob-num:hover{color:rgba(27,31,35,0.6)}div#\:\$p>svg>foreignObject>section .blob-num:before,div#\:\$p>svg>foreignObject>section .markdown-body .blob-num:before{content:attr(data-line-number)}div#\:\$p>svg>foreignObject>section .blob-code,div#\:\$p>svg>foreignObject>section .markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}div#\:\$p>svg>foreignObject>section .blob-code-inner,div#\:\$p>svg>foreignObject>section .markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}div#\:\$p>svg>foreignObject>section .markdown-body div#\:\$p>svg>foreignObject>section section.blob-code-inner,div#\:\$p>svg>foreignObject>section div#\:\$p>svg>foreignObject>section section.blob-code-inner{--marpit-root-font-size:12px}div#\:\$p>svg>foreignObject>section .markdown-body .pl-token.active,div#\:\$p>svg>foreignObject>section .markdown-body .pl-token:hover,div#\:\$p>svg>foreignObject>section .pl-token.active,div#\:\$p>svg>foreignObject>section .pl-token:hover{cursor:pointer;background:#ffea7f}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="1"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="2"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="3"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="4"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="5"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="6"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="7"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="8"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="9"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="10"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="11"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}div#\:\$p>svg>foreignObject>section .markdown-body .tab-size[data-tab-size="12"],div#\:\$p>svg>foreignObject>section .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}div#\:\$p>svg>foreignObject>section .markdown-body .task-list-item,div#\:\$p>svg>foreignObject>section .task-list-item{list-style-type:none}div#\:\$p>svg>foreignObject>section .markdown-body .task-list-item+.task-list-item,div#\:\$p>svg>foreignObject>section .task-list-item+.task-list-item{margin-top:3px}div#\:\$p>svg>foreignObject>section .markdown-body .task-list-item input,div#\:\$p>svg>foreignObject>section .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}

/*
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
title      Nord highlight.js                                   +
project    nord-highlightjs                                    +
version    0.1.0                                               +
repository https://github.com/arcticicestudio/nord-highlightjs +
author     Arctic Ice Studio                                   +
email      development@arcticicestudio.com                     +
copyright  Copyright (C) 2017                                  +
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

[References]
Nord
  https://github.com/arcticicestudio/nord
highlight.js
  http://highlightjs.readthedocs.io/en/latest/style-guide.html
  http://highlightjs.readthedocs.io/en/latest/css-classes-reference.html
*/div#\:\$p>svg>foreignObject>section .hljs{display:block;overflow-x:auto;padding:0.5em;background:#2E3440}div#\:\$p>svg>foreignObject>section .hljs,div#\:\$p>svg>foreignObject>section .hljs-subst{color:#D8DEE9}div#\:\$p>svg>foreignObject>section .hljs-selector-tag{color:#81A1C1}div#\:\$p>svg>foreignObject>section .hljs-selector-id{color:#8FBCBB;font-weight:bold}div#\:\$p>svg>foreignObject>section .hljs-selector-class{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-selector-attr{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-selector-pseudo{color:#88C0D0}div#\:\$p>svg>foreignObject>section .hljs-addition{background-color:rgba(163,190,140,0.5)}div#\:\$p>svg>foreignObject>section .hljs-deletion{background-color:rgba(191,97,106,0.5)}div#\:\$p>svg>foreignObject>section .hljs-built_in,div#\:\$p>svg>foreignObject>section .hljs-type{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-class{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-function{color:#88C0D0}div#\:\$p>svg>foreignObject>section .hljs-function>.hljs-title{color:#88C0D0}div#\:\$p>svg>foreignObject>section .hljs-keyword,div#\:\$p>svg>foreignObject>section .hljs-literal,div#\:\$p>svg>foreignObject>section .hljs-symbol{color:#81A1C1}div#\:\$p>svg>foreignObject>section .hljs-number{color:#B48EAD}div#\:\$p>svg>foreignObject>section .hljs-regexp{color:#EBCB8B}div#\:\$p>svg>foreignObject>section .hljs-string{color:#A3BE8C}div#\:\$p>svg>foreignObject>section .hljs-title{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-params{color:#D8DEE9}div#\:\$p>svg>foreignObject>section .hljs-bullet{color:#81A1C1}div#\:\$p>svg>foreignObject>section .hljs-code{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-emphasis{font-style:italic}div#\:\$p>svg>foreignObject>section .hljs-formula{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-strong{font-weight:bold}div#\:\$p>svg>foreignObject>section .hljs-link:hover{text-decoration:underline}div#\:\$p>svg>foreignObject>section .hljs-quote{color:#4C566A}div#\:\$p>svg>foreignObject>section .hljs-comment{color:#4C566A}div#\:\$p>svg>foreignObject>section .hljs-doctag{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-meta,div#\:\$p>svg>foreignObject>section .hljs-meta-keyword{color:#5E81AC}div#\:\$p>svg>foreignObject>section .hljs-meta-string{color:#A3BE8C}div#\:\$p>svg>foreignObject>section .hljs-attr{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .hljs-attribute{color:#D8DEE9}div#\:\$p>svg>foreignObject>section .hljs-builtin-name{color:#81A1C1}div#\:\$p>svg>foreignObject>section .hljs-name{color:#81A1C1}div#\:\$p>svg>foreignObject>section .hljs-section{color:#88C0D0}div#\:\$p>svg>foreignObject>section .hljs-tag{color:#81A1C1}div#\:\$p>svg>foreignObject>section .hljs-variable{color:#D8DEE9}div#\:\$p>svg>foreignObject>section .hljs-template-variable{color:#D8DEE9}div#\:\$p>svg>foreignObject>section .hljs-template-tag{color:#5E81AC}div#\:\$p>svg>foreignObject>section .abnf .hljs-attribute{color:#88C0D0}div#\:\$p>svg>foreignObject>section .abnf .hljs-symbol{color:#EBCB8B}div#\:\$p>svg>foreignObject>section .apache .hljs-attribute{color:#88C0D0}div#\:\$p>svg>foreignObject>section .apache .hljs-section{color:#81A1C1}div#\:\$p>svg>foreignObject>section .arduino .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .aspectj .hljs-meta{color:#D08770}div#\:\$p>svg>foreignObject>section .aspectj>.hljs-title{color:#88C0D0}div#\:\$p>svg>foreignObject>section .bnf .hljs-attribute{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .clojure .hljs-name{color:#88C0D0}div#\:\$p>svg>foreignObject>section .clojure .hljs-symbol{color:#EBCB8B}div#\:\$p>svg>foreignObject>section .coq .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .cpp .hljs-meta-string{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .css .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .css .hljs-keyword{color:#D08770}div#\:\$p>svg>foreignObject>section .diff .hljs-meta{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .ebnf .hljs-attribute{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .glsl .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .groovy .hljs-meta:not(:first-child){color:#D08770}div#\:\$p>svg>foreignObject>section .haxe .hljs-meta{color:#D08770}div#\:\$p>svg>foreignObject>section .java .hljs-meta{color:#D08770}div#\:\$p>svg>foreignObject>section .ldif .hljs-attribute{color:#8FBCBB}div#\:\$p>svg>foreignObject>section .lisp .hljs-name{color:#88C0D0}div#\:\$p>svg>foreignObject>section .lua .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .moonscript .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .nginx .hljs-attribute{color:#88C0D0}div#\:\$p>svg>foreignObject>section .nginx .hljs-section{color:#5E81AC}div#\:\$p>svg>foreignObject>section .pf .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .processing .hljs-built_in{color:#88C0D0}div#\:\$p>svg>foreignObject>section .scss .hljs-keyword{color:#81A1C1}div#\:\$p>svg>foreignObject>section .stylus .hljs-keyword{color:#81A1C1}div#\:\$p>svg>foreignObject>section .swift .hljs-meta{color:#D08770}div#\:\$p>svg>foreignObject>section .vim .hljs-built_in{color:#88C0D0;font-style:italic}div#\:\$p>svg>foreignObject>section .yaml .hljs-meta{color:#D08770}div#\:\$p>svg>foreignObject>section svg[data-marp-fitting=svg]{max-height:563px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){border-bottom:none;color:#ECEFF4;font-size:1.6em}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){border-bottom:none;font-size:1.3em}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.1em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1.05em}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:1em}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:0.9em}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{font-weight:inherit;color:#48c}div#\:\$p>svg>foreignObject>section a{color:#88C0D0}div#\:\$p>svg>foreignObject>section hr{height:0;padding-top:0.25em}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){border:1px solid #8FBCBB;line-height:1.15;overflow:visible;background-color:#2E3440}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code svg[data-marp-fitting=svg]{max-height:529px}div#\:\$p>svg>foreignObject>section code{background-color:#2E3440;color:#88C0D0}div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header{margin:0;position:absolute;left:30px;color:rgba(102,102,102,0.75);font-size:18px}div#\:\$p>svg>foreignObject>section header{top:21px}div#\:\$p>svg>foreignObject>section footer{bottom:21px}div#\:\$p>svg>foreignObject>section{background:#3B4252;color:#E5E9F0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;align-items:stretch;display:flex;flex-direction:column;flex-wrap:nowrap;font-size:29px;height:720px;justify-content:center;padding:78.5px;width:1280px}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:29px}div#\:\$p>svg>foreignObject>section.lead :is(h1,marp-h1){font-size:3.1em}div#\:\$p>svg>foreignObject>section>:last-child,div#\:\$p>svg>foreignObject>section[data-footer]>:nth-last-child(2){margin-bottom:0}div#\:\$p>svg>foreignObject>section>:first-child,div#\:\$p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#\:\$p>svg>foreignObject>section:after{position:absolute;padding:0;right:30px;bottom:21px;font-size:24px;color:#777}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:24px}div#\:\$p>svg>foreignObject>section[data-color] :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section[data-color] :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section[data-color] :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section[data-color] :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section[data-color] :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section[data-color] :is(h6,marp-h6){color:currentColor}

/* @theme lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9 */div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content],div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#\:\$p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 is="marp-h1" data-auto-scaling id="helmfile-nix"> helmfile-nix</h1>
<p><em>by Marcus Ramberg - reMarkable Cloud Services</em></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/helm.jpg&quot;);"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="2" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="a-bit-of-background">A bit of background</h1>
<ul>
<li data-marpit-fragment="1">Helm is the most common package manager for Kubernetes.</li>
<li data-marpit-fragment="2">It allows you to define, install, and manage Kubernetes applications.</li>
<li data-marpit-fragment="3">Helm uses charts to define the resources that make up an application.<br />
(deployments/services/configmaps etc.)</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<p>The charts are a collection of go templates that define a set of Kubernetes resources</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-gotemplate">{{- if (and (not .Values.useStatefulSet) (or (not .Values.persistence.enabled) (eq .Values.persistence.type &quot;pvc&quot;))) }}
apiVersion: apps/v1
kind: Deployment
metadata:
  name: {{ include &quot;grafana.fullname&quot; . }}
  namespace: {{ include &quot;grafana.namespace&quot; . }}
  labels:
    {{- include &quot;grafana.labels&quot; . | nindent 4 }}
    {{- with .Values.labels }}
    {{- toYaml . | nindent 4 }}
    {{- end }}
  {{- with .Values.annotations }}
  annotations:
    {{- toYaml . | nindent 4 }}
  {{- end }}
...
</code></pre>
<p>They aren't super pleasant to write, but almost all open-source projects provide them,<br />
so consuming them is by far the most time efficient way to deal with app deployment.</p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<p>Each chart can be customized using values</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">my-grafana</span>
<span class="hljs-attr">serviceAccount:</span>
  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">autoscaling:</span>
  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
  <span class="hljs-attr">minReplicas:</span> <span class="hljs-number">1</span>
  <span class="hljs-attr">maxReplicas:</span> <span class="hljs-number">6</span>
  <span class="hljs-attr">targetCPU:</span> <span class="hljs-string">&quot;66&quot;</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="helm-imperative-workflow">Helm imperative workflow</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-shell">❯ helm repo add grafana https://grafana.github.io/helm-charts

&quot;grafana&quot; has been added to your repositories
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-shell">❯ helm install my-grafana grafana/grafana --values values.yaml

NAME: my-grafana
LAST DEPLOYED: Sun Jun 16 23:41:58 2024
NAMESPACE: default
STATUS: deployed
REVISION: 1
NOTES:
1. Get your &#x27;admin&#x27; user password by running:

   kubectl get secret --namespace default my-grafana -o jsonpath=&quot;{.data.admin-password}&quot; | base64 --decode ; echo


2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:

   my-grafana.default.svc.cluster.local

   Get the Grafana URL to visit by running these commands in the same shell:
     export POD_NAME=$(kubectl get pods --namespace default -l &quot;app.kubernetes.io/name=grafana,app.kubernetes.io/instance=my-grafana&quot; \
     -o jsonpath=&quot;{.items[0].metadata.name}&quot;)
     kubectl --namespace default port-forward $POD_NAME 3000

3. Login with the password from step 1 and the username: admin
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-shell">❯ helm list -o json|jq
[
  {
    &quot;name&quot;: &quot;my-grafana&quot;,
    &quot;namespace&quot;: &quot;default&quot;,
    &quot;revision&quot;: &quot;1&quot;,
    &quot;updated&quot;: &quot;2024-06-16 23:41:58.954191803 +0200 CEST&quot;,
    &quot;status&quot;: &quot;deployed&quot;,
    &quot;chart&quot;: &quot;grafana-7.3.7&quot;,
    &quot;app_version&quot;: &quot;10.4.0&quot;
  }
]
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-marpit-fragments="6" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<p>There are many ways to manage your Helm charts</p>
<ul>
<li data-marpit-fragment="1">Using the Helm CLI directly like we just did</li>
<li data-marpit-fragment="2">GitOps operators like ArgoCD and Flux
<ul>
<li data-marpit-fragment="3">Most of these work by expanding the Helm chart to YAML and then applying it to the cluster</li>
</ul>
</li>
<li data-marpit-fragment="4">Helmfile</li>
<li data-marpit-fragment="5">helm / helmfile terraform provider</li>
<li data-marpit-fragment="6">and many more (Skaffold/Helmsman <a href="https://github.com/cdwv/awesome-helm?tab=readme-ov-file#tools-extras">etc</a>)</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/nodes.png&quot;);"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="9" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h2 id="typically-a-challenge-with-helm-is-managing-multiple-environments-without-a-lot-of-duplication-in-your-value-files">Typically a challenge with Helm is managing multiple environments without a lot of duplication in your value files</h2>
<h1 id="this-is-where-helmfile-comes-in-handy">This is where Helmfile comes in handy</h1>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="its-a-declarative-way-to-manage-your-helm-charts">It's a declarative way to manage your Helm charts</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-gotemplate">environments:
  production:
    values:
      - environment/prod.yaml
  staging:
    values:
      - environment/staging.yaml
---
repositories:
  - name: grafana
    url: https://grafana.github.io/helm-charts
releases:
  - name: my-grafana
    chart: grafana/grafana
    version: 7.3.7
    installed: {{ .Environment.Values.installed }}
    values:
      - values.yaml
      - hostname: https://grafana-{{ .Environment.name }}.example.com
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="this-allows-you-to-manage-multiple-environments-in-a-fully-declarative-way">This allows you to manage multiple environments in a fully declarative way</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-shell">helmfile -e prod apply # Will apply any changes in the prod environment
</code></pre>
<h3 id="allows-a-simple-pr-based-flow-where-you-can-see-the-changes-before-they-are-applied">Allows a simple PR based flow where you can see the changes before they are applied</h3>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-marpit-fragments="6" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="helmfile-has-a-bunch-of-useful-features-for-operations">Helmfile has a bunch of useful features for operations</h1>
<ul>
<li data-marpit-fragment="1">See planned changes before they are applied with the helm-diff plugin</li>
<li data-marpit-fragment="2">Supports modularization (Include remote helmfiles)</li>
<li data-marpit-fragment="3">Allows advanced workflows like rollback on failure</li>
<li data-marpit-fragment="4">Fetch values from external sources like SSM or terraform using vals</li>
<li data-marpit-fragment="5">Allows transparently applying kustomizations to your charts</li>
<li data-marpit-fragment="6">Can include charts from multiple sources, including local charts, and OCI registries</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 is="marp-h1" data-auto-scaling id="helmfile-is-great-but"> Helmfile is great, but...</h1>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h4 id="its-yaml">It's YAML...</h4>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-yaml"><span class="hljs-comment"># <img class="emoji" draggable="false" alt="🚨" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f6a8.svg" data-marp-twemoji=""/> Anyone who uses YAML long enough will eventually get burned when attempting to abbreviate Norway <img class="emoji" draggable="false" alt="🚨" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f6a8.svg" data-marp-twemoji=""/></span>
<span class="hljs-comment"># `NO` is parsed as a boolean type, which with the YAML 1.1 spec, there are 22 options to write &quot;true&quot; or &quot;false.&quot;</span>
<span class="hljs-comment"># You have to wrap &quot;NO&quot; in quotes to get the expected result.</span>
<span class="hljs-attr">NI:</span> <span class="hljs-string">Nicaragua</span>
<span class="hljs-attr">NL:</span> <span class="hljs-string">Netherlands</span>
<span class="hljs-attr">NO:</span> <span class="hljs-string">Norway</span> <span class="hljs-comment"># <img class="emoji" draggable="false" alt="💣" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f4a3.svg" data-marp-twemoji=""/>!</span>

<span class="hljs-comment"># <img class="emoji" draggable="false" alt="🚨" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f6a8.svg" data-marp-twemoji=""/> Anyone wondering why their first seven Kubernetes clusters deploy just fine, and the eighth fails? <img class="emoji" draggable="false" alt="🚨" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f6a8.svg" data-marp-twemoji=""/></span>
<span class="hljs-bullet">-</span> <span class="hljs-number">07</span>
<span class="hljs-bullet">-</span> <span class="hljs-number">08</span>
<span class="hljs-comment"># Results in</span>
[ <span class="hljs-number">7</span>, <span class="hljs-string">&quot;08&quot;</span> ]

<span class="hljs-comment"># YAML knows that, when you have something that looks like the time of day,</span>
<span class="hljs-comment"># what you _really_ wanted is the time of seconds since midnight</span>
<span class="hljs-attr">timeOfDay:</span>
  <span class="hljs-attr">whatYouWrote:</span> <span class="hljs-number">04</span><span class="hljs-string">:30</span> <span class="hljs-comment"># And when you parse this file and serialize it again, you get ...</span>
  <span class="hljs-attr">whatYouSurelyMeant:</span> <span class="hljs-number">16200</span> <span class="hljs-comment"># Have fun debugging this one!</span>
  <span class="hljs-attr">whatYouShouldHaveWritten:</span> <span class="hljs-type">!!str</span> <span class="hljs-number">04</span><span class="hljs-string">:30</span>

<span class="hljs-comment"># YAML is the super best way to encode Octal (tm) and learning the hard way that Kubernetes uses YAML 1.1</span>
<span class="hljs-comment"># is a DevOps rite of passage. Below YAML 1.2 a large integer is automatically converted to octal.</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">YAML</span> <span class="hljs-number">1.1</span> <span class="hljs-string">uses</span> <span class="hljs-string">`0666`</span> <span class="hljs-string">notation.</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">YAML</span> <span class="hljs-number">1.2</span> <span class="hljs-string">uses</span> <span class="hljs-string">`0o666`</span> <span class="hljs-string">notation</span>
<span class="hljs-comment"># Speaking of CI, did you know that 8-character SHAs could be all numbers?</span>
<span class="hljs-comment"># If the system that parses `my.flaky_version` is typed, it will happily explode 2% of the time.</span>
<span class="hljs-attr">my:</span>
    <span class="hljs-comment"># this will be a string ~98% of the time</span>
    <span class="hljs-attr">flaky_version:</span> <span class="hljs-string">${GIT_SHORT_SHA}</span>
    <span class="hljs-comment"># this will be a string ~100% of the time</span>
    <span class="hljs-attr">string_version:</span> <span class="hljs-string">&quot;${GIT_SHORT_SHA}&quot;</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/works60.jpg&quot;);background-size:40%;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="15" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;" data-marpit-advanced-background="content"></section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/yaml-err.png&quot;);background-size:80%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="16" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="and-multiple-levels-of-go-templating">And multiple levels of go templating</h1>
<ul>
<li data-marpit-fragment="1">Basically PHP for YAML</li>
<li data-marpit-fragment="2">Keep guessing how many levels of <code>nindent</code> you need</li>
<li data-marpit-fragment="3">Accidentally de-indent a block and wonder why your values aren't applied</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-marpit-fragments="8" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="impossible-to-get-good-ide-tooling">Impossible to get good IDE tooling</h1>
<ul>
<li data-marpit-fragment="1">Two interleaved languages</li>
<li data-marpit-fragment="2">No formatting/linting</li>
<li data-marpit-fragment="3">Debugging an error in your template can be a nightmare
<ul>
<li data-marpit-fragment="4">Results might not be valid YAML</li>
<li data-marpit-fragment="5">Have to go into debug mode to see why we're generating unexpected resources</li>
</ul>
</li>
<li data-marpit-fragment="6">Complex flows are hard to reason about
<ul>
<li data-marpit-fragment="7">For instance, we run many Atlantis instance, with small differences between them</li>
<li data-marpit-fragment="8">Managing this with helmfile is hard</li>
</ul>
</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/lilamb.jpg&quot;);"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="18" data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="what-if-we-could-have-the-best-of-both-worlds">What if we could have the best of both worlds?</h1>
<ul>
<li data-marpit-fragment="1">A minimal language to generate our configuration</li>
<li data-marpit-fragment="2">LSP based IDE Tooling</li>
<li data-marpit-fragment="3">Auto formatting/Linting</li>
<li data-marpit-fragment="4">Always generate valid YAML</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/mitchell-quote.png&quot;);background-size:80%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="19" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="what-is-nix">What is Nix?</h1>
<ul>
<li data-marpit-fragment="1">A purely functional package manager</li>
<li data-marpit-fragment="2">Driven by a simple DSL that can be used to define packages and configurations</li>
<li data-marpit-fragment="3">Powers the NixOS Linux distribution, as well as nix-darwin/home-manager/++</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="the-nix-expression-language">The nix expression language</h1>
<ul>
<li data-marpit-fragment="1">A Minimal DSL</li>
<li data-marpit-fragment="2">Purely functional</li>
<li data-marpit-fragment="3">Built for declarative configuration management</li>
<li data-marpit-fragment="4">Can natively output JSON (which is a subset of YAML)</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h2 id="helmfile-nix-is-a-tool-that-allows-you-to-define-your-helmfile-as-nix-expressions">helmfile-nix is a tool that allows you to define your Helmfile as Nix expressions</h2>
<ul>
<li data-marpit-fragment="1">Transparently wraps the Helmfile CLI</li>
<li data-marpit-fragment="2">Pre-renders the Helmfile using nix eval</li>
<li data-marpit-fragment="3">Adds a single <code>render</code> subcommand to helmfile to see the rendered YAML</li>
<li data-marpit-fragment="4">Written in go, generates YAML using <code>yaml/v3</code></li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="so-how-does-it-look-like-slightly-simplified-to-fit">So how does it look like? (Slightly simplified to fit)</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-nix">{ var, lib, ... }:
[ {
    <span class="hljs-attr">repositories</span> = [ {
        <span class="hljs-attr">name</span> = <span class="hljs-string">&quot;grafana&quot;</span>;
        <span class="hljs-attr">url</span> = <span class="hljs-string">&quot;https://grafana.github.io/helm-charts&quot;</span>;
    } ];
    <span class="hljs-attr">releases</span> = [
      {
        <span class="hljs-attr">name</span> = <span class="hljs-string">&quot;grafana&quot;</span>;
        <span class="hljs-attr">chart</span> = <span class="hljs-string">&quot;grafana/grafana&quot;</span>;
        <span class="hljs-attr">installed</span> =  var.environment.<span class="hljs-attr">name</span> == <span class="hljs-string">&quot;prod&quot;</span>;
        <span class="hljs-attr">version</span> = <span class="hljs-string">&quot;7.3.9&quot;</span>;
        <span class="hljs-attr">values</span> = [ {
            <span class="hljs-attr">ingress</span> = {
              <span class="hljs-attr">enabled</span> = <span class="hljs-literal">true</span>;
              <span class="hljs-attr">hosts</span> = var.values.hosts;
              <span class="hljs-attr">annotations</span> = {
                <span class="hljs-string">&quot;networking.gke.io/managed-certificates&quot;</span> = <span class="hljs-string">&quot;grafana-<span class="hljs-subst">${var.environment.name}</span>-cert&quot;</span>;
              };
     ...
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="left"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/lsp.png&quot;);background-size:80%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720" x="50%"><section id="23" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="left">
<h1 id="lsp-support">LSP support</h1>
<ul>
<li>Instant error checking</li>
<li>Goto definition</li>
<li>Format on save</li>
<li>Autocompletion</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="left"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/stack.png&quot;);background-size:80%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="24" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h2 id="by-forcing-direct-evaluation-of-the-config-we-get-good-stack-traces">By forcing direct evaluation of the config, we get good stack traces.</h2>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-marpit-fragments="6" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="migration">Migration</h1>
<ul>
<li data-marpit-fragment="1">Rewriting your helmfile can be a daunting task</li>
<li data-marpit-fragment="2">Luckily there are tools to help you</li>
<li data-marpit-fragment="3"><code>https://github.com/euank/yaml2nix</code> can help you convert your YAML to nix</li>
<li data-marpit-fragment="4">Some pre/post processing will be needed, but quicker than rewriting from scratch</li>
<li data-marpit-fragment="5">Since the output is the same, you can use template/diff to ensure your port is correct</li>
<li data-marpit-fragment="6">We were able to gradually migrate all our helmfiles over a few weeks</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/problems.jpeg&quot;);background-size:100%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="26" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="some-challenges-i-faced-during-development">Some challenges I faced during development</h1>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-marpit-fragments="5" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/python.jpg&quot;);background-size:80%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="27" data-marpit-fragments="5" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 id="first-prototype-in-python">First prototype in python</h1>
<ul>
<li data-marpit-fragment="1">Turns out python is not great for this</li>
<li data-marpit-fragment="2">Hard to handle async subprocesses</li>
<li data-marpit-fragment="3">YAML generation in python had compatibility issues</li>
<li data-marpit-fragment="4">Python dependencies are not fun to handle</li>
<li data-marpit-fragment="5">Rewrite in Go overcame all these issues</li>
</ul>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-marpit-fragments="5" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="nixpkgs-is-big-and-we-only-need-the-lib">nixpkgs is big, and we only need the lib</h1>
<ul>
<li data-marpit-fragment="1">nixpkgs contains more than 100.000 packages</li>
<li data-marpit-fragment="2">Can be slow to fetch</li>
<li data-marpit-fragment="3"><a href="https://github.com/nix-community/nixpkgs.lib">nix-community/nixpkgs.lib</a></li>
<li data-marpit-fragment="4">automatically filtered version of nixpkgs only containing the functions</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-marpit-fragments="7" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="no-native-yaml-support">No native YAML support</h1>
<ul>
<li data-marpit-fragment="1">Well, actually, but not in the way we want</li>
<li data-marpit-fragment="2">toYAML is simply an alias for <code>builtins.toJSON</code></li>
<li data-marpit-fragment="3">Initially, I used yq as a derivation, but that requires a full nixpkgs, which makes container images large and keeps a<br />
lot of moving state</li>
<li data-marpit-fragment="4">In order to generate YAML that helmfile can consume, we now use the<br />
same yaml/v3 library that helmfile uses. Avoids any external dependencies</li>
<li data-marpit-fragment="5">helmfile-nix only requires the nix binary</li>
<li data-marpit-fragment="6">This is still a bit of a challenge for us in places where the actual value needs to be YAML too</li>
<li data-marpit-fragment="7">There's an <a href="https://github.com/NixOS/nix/pull/7340">open PR</a> for native YAML support in nix</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="difficult-to-make-a-lean-docker-image">Difficult to make a lean docker image</h1>
<ul>
<li data-marpit-fragment="1">You can build docker images using nix, but typically derivations are not optimized for size</li>
<li data-marpit-fragment="2">We use a multi-stage build to keep the image small</li>
<li data-marpit-fragment="3">Build the go binary a static nix binary, then copy them into alpine</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-Dockerfile"><span class="hljs-keyword">FROM</span> --platform=${BUILDPLATFORM:-linux/amd64} nixos/nix:<span class="hljs-number">2.22</span>.<span class="hljs-number">0</span> AS nix

<span class="hljs-keyword">RUN</span><span class="language-bash"> nix build --extra-experimental-features nix-command --extra-experimental-features flakes <span class="hljs-string">&#x27;nixpkgs#nixStatic&#x27;</span></span>

<span class="hljs-keyword">FROM</span> --platform=${BUILDPLATFORM:-linux/amd64} alpine:<span class="hljs-number">3.19</span>@sha256:&lt;sha&gt;

<span class="hljs-keyword">COPY</span><span class="language-bash"> --from=nix ./result/ /</span>

<span class="hljs-keyword">COPY</span><span class="language-bash"> --from=builder /app/helmfile-nix /usr/local/bin/helmfile-nix</span>
</code></pre>
<p><em>Both x86 and arm images are available on ghcr.io</em></p>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;./assets/cunningplan.jpg&quot;);background-size:80%;"></figure></div></section></foreignObject><foreignObject width="50%" height="720"><section id="32" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;--marpit-advanced-background-split:50%;" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h1 is="marp-h1" data-auto-scaling id="future-plans"> Future Plans</h1>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-marpit-fragments="4" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="using-helmfile-as-a-library">Using helmfile as a library</h1>
<ul>
<li data-marpit-fragment="1">Ensure version compatibility</li>
<li data-marpit-fragment="2">Slightly faster startup time</li>
<li data-marpit-fragment="3">Potentially allows us to get the parsed values from the Helmfile</li>
<li data-marpit-fragment="4">Currently we expect a opionated structure for your environment variables</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="using-nix-as-a-library-with-gonix">Using nix as a library with gonix</h1>
<ul>
<li data-marpit-fragment="1">Nix recently merged support for a stable C API</li>
<li data-marpit-fragment="2">I've been collaborating with @farcaller on a Go wrapper for the nix library</li>
<li data-marpit-fragment="3">This isn't in a stable nix release yet, but might allow us tighter integration,<br />
including adding new primops like toYAML using go</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-marpit-fragments="2" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="write-an-argocd-plugin">Write an Argocd plugin</h1>
<ul>
<li data-marpit-fragment="1">ArgoCD natively supports helm, but there is already a helmfile plugin</li>
<li data-marpit-fragment="2">Implementing it for helmfile-nix should be straightforward</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="integration-with-nixhelm">Integration with nixhelm</h1>
<ul>
<li data-marpit-fragment="1">nixhelm is a wrapper for helm that generates charts natively</li>
<li data-marpit-fragment="2">See this great talk from the nixcon 2023: <a href="https://www.youtube.com/watch?v=SEA1Qm8K4gY">Nix Helm: A Nix-native Helm</a></li>
<li data-marpit-fragment="3">helmfile can use a folder of generated charts as a source</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-marpit-fragments="3" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="nix-module-system">Nix Module System</h1>
<ul>
<li data-marpit-fragment="1">Nix has a very powerful way to extend the language</li>
<li data-marpit-fragment="2">We could potentially use this to make helmfiles less verbose</li>
<li data-marpit-fragment="3">Generate the helmfile structure from a more concise expression</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-marpit-fragments="2" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 id="helmfile-10">Helmfile 1.0</h1>
<ul>
<li data-marpit-fragment="1">Just around the corner</li>
<li data-marpit-fragment="2">V1 behavior disables double rendering for .yaml files, templated helmfiles must be named helmfile.yaml.gotmpl</li>
</ul>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-theme="lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9" style="--theme:lcw75d8x3gks3o3uoxtwhz7lr85bh9isxbn8ip1usm9;">
<h1 is="marp-h1" data-auto-scaling id="thank-you"> Thank you!</h1>
<h2 id="githubcomremarkablehelmfile-nix"><a href="github.com/reMarkable/helmfile-nix">github.com/reMarkable/helmfile-nix</a></h2>
<h2 id="questions">Questions?</h2>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var t,s,o,r,a;this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=null!==(t=this.shadowRoot.querySelector(`div[${e}]`))&&void 0!==t?t:void 0;const l=this.svg;this.svg=null!==(o=null===(s=this.wrapper)||void 0===s?void 0:s.querySelector(`svg[${i}]`))&&void 0!==o?o:void 0,this.svg!==l&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=null!==(a=null===(r=this.svg)||void 0===r?void 0:r.querySelector(`span[${n}]`))&&void 0!==a?a:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){var t,e,i,n,s,o,r;let a=Math.ceil(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0);const l=Math.ceil(null!==(n=null===(i=this.containerSize)||void 0===i?void 0:i.height)&&void 0!==n?n:0);void 0!==this.dataset.downscaleOnly&&(a=Math.max(a,null!==(o=null===(s=this.wrapperSize)||void 0===s?void 0:s.width)&&void 0!==o?o:0));const c=null===(r=this.svg)||void 0===r?void 0:r.querySelector(":scope > foreignObject");if(null==c||c.setAttribute("width",`${a}`),null==c||c.setAttribute("height",`${l}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${a} ${l}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=a<=0||l<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const o=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const t=i?`<style>:host { ${i} }</style>`:"";let e="<slot></slot>";const{autoScaling:n}=this.dataset;if(void 0!==n){e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===n?"data-downscale-only":""}>${e}</marp-auto-scaling>`}this.shadowRoot.innerHTML=t+e}};let r;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),g=Symbol();const h=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[g]||(Object.defineProperty(window,g,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,o,r;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(r=null===(o=n.y)||void 0===o?void 0:o.baseVal.value)&&void 0!==r?r:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await h()}finally{s=!0}})();const o=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(o)};return o(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const b=Symbol(),w=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();null!=r||(r=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),r&&a!==HTMLElement?i||customElements.define(s,o(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,o(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[b])return e[b];const i=v({target:e}),n=()=>{i(),delete e[b]},l=Object.assign(n,{cleanup:n,update:()=>w(e)});return Object.defineProperty(e,b,{configurable:!0,value:l}),l},y=document.currentScript;w(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><div class="bespoke-marp-note" data-index="0" tabindex="0"><p>Welcome to this talk about my side-project from this winter to rethink how we manage state in
our Kubernetes clusters.

reMarkable runs a lot of tooling to support our developers, including many Atlantis instances,
the LGTM stack and things like codecov in kubernetes. We use Helmfile to manage these deployments,
which has allowed us to manage a large number of deployments across multiple environments.

However, in long term maintenance, Helmfile has some challenges, and we wanted to see if we could
improve the situation. This talk is about how we did that.</p></div><div class="bespoke-marp-note" data-index="1" tabindex="0"><p>So, why are we using Helm?</p></div><div class="bespoke-marp-note" data-index="3" tabindex="0"><p>These values arge merged down to te default values in the chart, and then the templates are rendered</p></div><div class="bespoke-marp-note" data-index="4" tabindex="0"><p>So lets look at how helm works when you use it directly

First, let's add a repository</p></div><div class="bespoke-marp-note" data-index="5" tabindex="0"><p>Then we install the chart using the values we defined earlier</p></div><div class="bespoke-marp-note" data-index="6" tabindex="0"><p>helm keeps some metadata about the deployed charts in the cluster to allow query and rollback</p></div><div class="bespoke-marp-note" data-index="7" tabindex="0"><p>Terraform could have been a natural choice for us given our heavy use, but in practice, it's not great for managing Kubernetes resources due to some lifecycle issues. Helmfile has been a great fit for us.</p></div><div class="bespoke-marp-note" data-index="11" tabindex="0"><p>In practice we've found that helmfile is flexible enough to allow us to solve most configuration management challenges we've faced</p></div><div class="bespoke-marp-note" data-index="13" tabindex="0"><p>YAML is a pretty complex spec and it has some sharp edges.
Not going to get into details as I guess most of you've felt the YAML pain
Newer versions of YAML have fixed some of these issues, but not all tools support them</p></div><div class="bespoke-marp-note" data-index="18" tabindex="0"><p>A bit different from traditional package managers like apt/yum/brew
Packages are created in a declarative way, and the package manager ensures that the dependencies are met</p></div><div class="bespoke-marp-note" data-index="19" tabindex="0"><p>A bit similar to terraform's HCL, but with a more functional approach</p></div><div class="bespoke-marp-note" data-index="21" tabindex="0"><p>Instead of templates, variables are first class values passed into the function
  Each function returns a single value, in this case a list of yaml documents to be rendered
  The nix string replacement allows any nix value to be inserted into a string, even nested string replacments</p></div><div class="bespoke-marp-note" data-index="30" tabindex="0"><p>I've actually done some work to improve derivation sizes for the
things we use frequently, like the GCP SDK and helm plugins, so
building the base image using nix might still be on the table</p></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@3.2.0/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),i={},a=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){i[e]=(i[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(i[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){o[e]&&(n&&l("deactivate",a(n,t)),n=o[e],l("activate",a(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;l(e>0?"next":"prev",a(n,t))&&c(r,t)},u={off:s,on:function(e,t){return(i[e]||(i[e]=[])).push(t),s.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(n);l("slide",a(o[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){l("destroy",a(n,e)),i={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u}},n=e(t);const r=document.body,o=(...e)=>history.replaceState(...e),i="presenter",a="next",s=["",i,a],l="bespoke-marp-",c=`data-${l}`,d=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const i=e.toString();return`${t}//${n}${r}${i?"?":""}${i}${o}`},u=()=>r.dataset.bespokeView,f=e=>new URLSearchParams(location.search).get(e),m=(e,t={})=>{var n;const r={location,setter:o,...t},i=new URLSearchParams(r.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?i.set(t,n):i.delete(t)}try{r.setter({...null!==(n=window.history.state)&&void 0!==n?n:{}},"",d(i,r.location))}catch(e){console.error(e)}},g=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),p=e=>{try{return localStorage.getItem(e)}catch(e){return null}},v=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},h=e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}},y=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},b=e=>{e.parent.classList.add(`${l}parent`),e.slides.forEach((e=>e.classList.add(`${l}slide`))),e.on("activate",(t=>{const n=`${l}active`,r=t.slide,o=r.classList,i=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),y(e,!0)})),o.add(n),y(r,!1),i){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},w=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const i=t<r||t===r&&n<=o;e.setAttribute(`${c}fragment`,(i?"":"in")+"active");const a=`${c}current-fragment`;t===r&&n===o?e.setAttribute(a,"current"):e.removeAttribute(a)}))})),e.fragmentIndex=o;const i={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",i)};e.on("next",(({fragment:i=!0})=>{if(i){if(r(1))return o(t,n+1),!1;const i=t+1;e.fragments[i]&&o(i,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const i=e.fragments[t+1];i&&o(t+1,i.length-1)}})),e.on("prev",(({fragment:i=!0})=>{if(r(-1)&&i)return o(t,n-1),!1;const a=t-1;e.fragments[a]&&o(a,e.fragments[a].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},x=document,k=()=>!(!x.fullscreenEnabled&&!x.webkitFullscreenEnabled),$=()=>!(!x.fullscreenElement&&!x.webkitFullscreenElement),E=e=>{e.fullscreen=()=>{k()&&(async()=>{return $()?null===(e=x.exitFullscreen||x.webkitExitFullscreen)||void 0===e?void 0:e.call(x):((e=x.body)=>{var t;return null===(t=e.requestFullscreen||e.webkitRequestFullscreen)||void 0===t?void 0:t.call(e)})();var e})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!k()||(e.fullscreen(),t.preventDefault())}))},L=`${l}inactive`,S=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let i;const a=()=>{i&&clearTimeout(i),i=setTimeout((()=>{r.add(L),o()}),e),r.contains(L)&&(r.remove(L),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,a);setTimeout(a,0)},P=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],_=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(P.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},T=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${c}load`,e?"":"hideable")}}))},I=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(i=>{let a=!1;const s=(e,t)=>{e&&(a=a||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),(null==e?void 0:e.parentElement)&&s(e.parentElement,t)};if(0!==i.deltaX&&s(i.target,"X"),0!==i.deltaY&&s(i.target,"Y"),a)return;i.preventDefault();const l=Math.sqrt(i.deltaX**2+i.deltaY**2);if(void 0!==i.wheelDelta){if(void 0===i.webkitForce&&Math.abs(i.wheelDelta)<40)return;if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<4)return}else if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const c=Date.now()-o<e,d=l<=n;if(n=l,c||d)return;let u;(i.deltaX>0||i.deltaY>0)&&(u="next"),(i.deltaX<0||i.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},M=(e=`.${l}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${c}osc=${JSON.stringify(e)}]`).forEach(n)};return k()||n("fullscreen",(e=>e.style.display="none")),g||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?null==e||e.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>y(t,!1))),e.on("marp-inactive",(()=>y(t,!0))),k()&&(e=>{for(const t of["","webkit"])x.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",k()&&$())))))}},O=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),i=Number.parseInt(n,10)+1;i>=e.fragments[o].length&&(o+=1,i=0),e.slide(o,{fragment:i})}}))};var A=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let C=e=>String(e).replace(/[&<>"']/g,(e=>`&${D[e]};`)),D={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},N="dangerouslySetInnerHTML",B={className:"class",htmlFor:"for"},q={};function K(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==N&&(r+=` ${B[e]?B[e]:C(e)}="${C(t[e])}"`);r+=">"}if(-1===A.indexOf(e)){if(t[N])r+=t[N].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===q[e]?e:C(e)}r+=e?`</${e}>`:""}return q[r]=!0,r}const j=({children:e})=>K(null,null,...e),F=`${l}presenter-`,V={container:`${F}container`,dragbar:`${F}dragbar-container`,next:`${F}next`,nextContainer:`${F}next-container`,noteContainer:`${F}note-container`,noteWrapper:`${F}note-wrapper`,noteButtons:`${F}note-buttons`,infoContainer:`${F}info-container`,infoPage:`${F}info-page`,infoPageText:`${F}info-page-text`,infoPagePrev:`${F}info-page-prev`,infoPageNext:`${F}info-page-next`,noteButtonsBigger:`${F}note-bigger`,noteButtonsSmaller:`${F}note-smaller`,infoTime:`${F}info-time`,infoTimer:`${F}info-timer`},U=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=V.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",K(j,null,K("div",{class:V.nextContainer},K("iframe",{class:V.next,src:"?view=next"})),K("div",{class:V.dragbar}),K("div",{class:V.noteContainer},K("div",{class:V.noteWrapper}),K("div",{class:V.noteButtons},K("button",{class:V.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),K("button",{class:V.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),K("div",{class:V.infoContainer},K("div",{class:V.infoPage},K("button",{class:V.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),K("span",{class:V.infoPageText}),K("button",{class:V.infoPageNext,tabindex:"-1",title:"Next"},"Next")),K("time",{class:V.infoTime,title:"Current time"}),K("time",{class:V.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(V.dragbar).addEventListener("mousedown",(()=>{t=!0,r(V.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(V.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(V.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(V.nextContainer).addEventListener("click",(()=>e.next()));const n=r(V.next),o=(i=n,(e,t)=>{var n;return null===(n=i.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var i;n.addEventListener("load",(()=>{r(V.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const a=document.querySelectorAll(".bespoke-marp-note");a.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(V.noteWrapper).appendChild(e)})),e.on("activate",(()=>a.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const l=e=>{s=Math.max(-5,s+e),r(V.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},c=()=>l(1),d=()=>l(-1),u=r(V.noteButtonsBigger),f=r(V.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),c()})),f.addEventListener("click",(()=>{f.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&c(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(V.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const m=r(V.infoPagePrev),g=r(V.infoPageNext);m.addEventListener("click",(t=>{m.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),i=t(n/1e3/60%60),a=t(n/36e5%24);r(V.infoTime).textContent=e.toLocaleTimeString(),r(V.infoTimer).textContent=`${a}:${i}:${o}`};v(),setInterval(v,250),r(V.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},X=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:H},presenterUrl:{enumerable:!0,get:R}}),g&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function H(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,F+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function R(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),d(e)}const W=e=>{const t=u();return t===a&&e.appendChild(document.createElement("span")),{"":X,[i]:U,[a]:O}[t]},J=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},Y=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},z=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?Y(f("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:i,slides:a}=e,s=o(0,r(t,a.length-1)),l=o(0,r(n||0,i[s].length-1));s===e.slide()&&l===e.fragmentIndex||e.slide(s,{fragment:l})})((()=>{var t,r;if(location.hash){const[o]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(o))return(null!==(t=Y(o))&&void 0!==t?t:1)-1;const i=document.getElementById(o)||document.querySelector(`a[name="${CSS.escape(o)}"]`);if(i){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(i)){const t=null===(r=e.fragments)||void 0===r?void 0:r[o],a=i.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||m({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),m({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},G=(e={})=>{var t;const n=e.key||(null===(t=window.history.state)||void 0===t?void 0:t.marpBespokeSyncKey)||Math.random().toString(36).slice(2),r=`bespoke-marp-sync-${n}`;var i;i={marpBespokeSyncKey:n},m({},{setter:(e,...t)=>o({...e,...i},...t)});const a=()=>{const e=p(r);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=a(),n={...t,...e(t)};return v(r,JSON.stringify(n)),n},l=()=>{window.removeEventListener("pageshow",l),s((e=>({reference:(e.reference||0)+1})))};return e=>{l(),Object.defineProperty(e,"syncKey",{value:n,enumerable:!0});let t=!0;setTimeout((()=>{e.on("fragment",(e=>{t&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(n=>{if(n.key===r&&n.oldValue&&n.newValue){const r=JSON.parse(n.oldValue),o=JSON.parse(n.newValue);if(r.index!==o.index||r.fragmentIndex!==o.fragmentIndex)try{t=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{t=!0}}}));const o=()=>{const{reference:e}=a();void 0===e||e<=1?h(r):s((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",l),o()})),e.on("destroy",o)}},{PI:Q,abs:Z,sqrt:ee,atan2:te}=Math,ne={passive:!0},re=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,i=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?i(e[0]):void 0}),ne),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=i(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ee(Z(n)**2+Z(o)**2),r.radian=te(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+Q)%(2*Q)-Q;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),ne)},oe=new Map;oe.clear(),oe.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ie={both:"",outgoing:"outgoing-",incoming:"incoming-"},ae={forward:"",backward:"-backward"},se=e=>`--marp-bespoke-transition-animation-${e}`,le=e=>`--marp-transition-${e}`,ce=se("name"),de=se("duration"),ue=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const i=getComputedStyle(r).getPropertyValue(le("duration"));i&&(n.defaultDuration=i),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),fe=async e=>oe.has(e)?oe.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ie))for(const[i,a]of Object.entries(ae)){const s=`marp-${o}transition${a}-${e}`;n.push(ue(s).then((e=>{t[i]=t[i]||{},t[i][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(oe.set(e,t),t))),me=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),ge=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[ce]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[se("direction")]="reverse"),e}})();return!o&&n?ge(e,{type:t,backward:!1}):o||{[ce]:"__bespoke_marp_transition_no_animation__"}},pe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch(e){}},ve="_tSId",he="_tA",ye="bespoke-marp-transition-warming-up",be=window.matchMedia("(prefers-reduced-motion: reduce)"),we="__bespoke_marp_transition_reduced_outgoing__",xe="__bespoke_marp_transition_reduced_incoming__",ke={forward:{both:void 0,incoming:{name:xe},outgoing:{name:we}},backward:{both:void 0,incoming:{name:xe},outgoing:{name:we}}},$e=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>fe(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=pe(e);return[null==t?void 0:t.name,(null==t?void 0:t.builtinFallback)?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const r=(n,{back:r,cond:o})=>i=>{var a;const s=t();if(s)return!!i[he]||!("object"!=typeof s||(s.skipTransition(),!i.forSync));if(!o(i))return!0;const l=e.slides[e.slide()],c=()=>{var e;return null!==(e=i.back)&&void 0!==e?e:r},d="data-transition"+(c()?"-back":""),u=l.querySelector(`section[${d}]`);if(!u)return!0;const f=pe(null!==(a=u.getAttribute(d))&&void 0!==a?a:void 0);return!f||((async(e,{builtinFallback:t=!0}={})=>{let n=await fe(e);if(me(n)){if(!t)return;return n=await fe(`__builtin__${e}`),me(n)?void 0:n}return n})(f.name,{builtinFallback:f.builtinFallback}).then((e=>{if(!e){t(!0);try{n(i)}finally{t(!1)}return}let r=e;be.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=ke);const o=document.getElementById(ve);o&&o.remove();const a=document.createElement("style");a.id=ve,document.head.appendChild(a),((e,t)=>{const n=[`:root{${le("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{var n,o,i;const a=(null===(n=e[t].both)||void 0===n?void 0:n.defaultDuration)||(null===(o=e[t].outgoing)||void 0===o?void 0:o.defaultDuration)||(null===(i=e[t].incoming)||void 0===i?void 0:i.defaultDuration);return"forward"===t?a:a||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${de}:${o};}`);const i=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::view-transition-old(root){${i(ge(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${i(ge(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:f.duration}).forEach((e=>{var t;return null===(t=a.sheet)||void 0===t?void 0:t.insertRule(e)}));const s=document.documentElement.classList;s.add(ye);let l=!1;const d=()=>{l||(n(i),l=!0,s.remove(ye))},u=()=>{t(!1),a.remove(),s.remove(ye)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(u)}catch(e){console.error(e),d(),u()}})),!1)};e.on("prev",r((t=>e.prev({...t,[he]:!0})),{back:!0,cond:e=>{var t;return e.index>0&&!((null===(t=e.fragment)||void 0===t||t)&&n.fragmentIndex>0)}})),e.on("next",r((t=>e.next({...t,[he]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",r((t=>e.slide(t.index,{...t,[he]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let Ee;const Le=()=>(void 0===Ee&&(Ee="wakeLock"in navigator&&navigator.wakeLock),Ee),Se=async()=>{const e=Le();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Pe=async()=>{if(!Le())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Se()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Se(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=f("view");r.dataset.bespokeView=e===a||e===i?e:""})();const t=(e=>{const t=f(e);return m({[e]:void 0}),t})("sync")||void 0;n.from(e,((...e)=>{const t=s.findIndex((e=>u()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],G({key:t})],[[1,1,1],W(e)],[[1,1,0],_],[[1,1,1],b],[[1,0,0],S()],[[1,1,1],T],[[1,1,1],z({history:!1})],[[1,1,0],I()],[[1,1,0],E],[[1,0,0],J],[[1,1,0],re()],[[1,0,0],M()],[[1,0,0],$e],[[1,1,1],w],[[1,1,0],Pe]))})()}();</script><script>window.__marpCliWatchWS="ws://localhost:37717/9535d9a83e10d344cd24e6c55200851ef4cb8dbbd1a4ca4e9708222588c3ab39";!function(){"use strict";const e=(n,o=!1)=>{const t=new WebSocket(n);return t.addEventListener("open",(()=>{console.info("[Marp CLI] Observing the change of file..."),o&&location.reload()})),t.addEventListener("close",(()=>{console.warn("[Marp CLI] WebSocket for file watcher was disconnected. Try re-connecting in 5000ms..."),setTimeout((()=>e(n,!0)),5e3)})),t.addEventListener("message",(e=>{"reload"===e.data&&location.reload()})),t};(()=>{const n=window.__marpCliWatchWS;n&&e(n)})()}();</script></body></html>